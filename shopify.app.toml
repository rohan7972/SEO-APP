# shopify.app.toml
# Public App Configuration for Shopify App Store Distribution

# Root-level configuration (required by Shopify CLI)
name = "indexAIze - Unlock AI Search"
handle = "indexaize-unlock-ai-search"
client_id = "2749a2f6d38ff5796ed256b5c9dc70a1"
application_url = "https://indexaize-aiseo-app-production.up.railway.app"
embedded = true

[webhooks]
api_version = "2025-07"

# GDPR Compliance Webhooks (mandatory for Shopify App Store)
[[webhooks.subscriptions]]
compliance_topics = ["customers/data_request"]
uri = "/webhooks/customers/data_request"

[[webhooks.subscriptions]]
compliance_topics = ["customers/redact"]
uri = "/webhooks/customers/redact"

[[webhooks.subscriptions]]
compliance_topics = ["shop/redact"]
uri = "/webhooks/shop/redact"

[auth]
redirect_urls = [
  "https://indexaize-aiseo-app-production.up.railway.app/auth/callback",
  "https://indexaize-aiseo-app-production.up.railway.app/api/auth/callback",
  "https://indexaize-aiseo-app-production.up.railway.app/api/auth",
  "https://indexaize-aiseo-app-production.up.railway.app/"
]

[access_scopes]
scopes = "read_products,write_products,read_themes,write_themes,read_translations,write_translations,read_locales,read_metaobjects,write_metaobjects,read_content,write_content,write_script_tags,read_markets"

# App Proxy Configuration for Sitemap
[app_proxy]
url = "https://indexaize-aiseo-app-production.up.railway.app/apps"
prefix = "apps"
subpath = "new-ai-seo"

[pos]
embedded = false

[build]
automatically_update_urls_on_dev = true
# REMOVED: dev_store_url - not needed for public apps